# ğŸ§  REPLIT AGENT PROMPT: CryptoSatX Enhancement (Do Not Break Existing System)

## ğŸ“Œ Context

Proyek bernama **CryptoSatX**, dibangun di **FastAPI (Python)** dan dijalankan di **Replit**.  
Sistem ini sudah berfungsi penuh sebagai AI-driven Crypto Signal Engine dengan integrasi:

- âœ… **CoinAPI** â€“ data OHLCV, candles, harga real-time  
- âœ… **Coinglass API v4** â€“ open interest, funding rate, liquidation  
- âœ… **LunarCrush API** â€“ sentimen sosial dan analitik komunitas  
- âœ… Endpoint utama: `/signals/{symbol}`, `/market/{symbol}`  
- âœ… Skor sinyal berbasis 8 faktor dengan output LONG/SHORT/NEUTRAL  
- âœ… Sudah ada dokumentasi deployment dan integrasi GPT Actions

Tugas kamu adalah **melengkapi kekurangannya** tanpa merusak fungsi existing.

---

## ğŸ¯ Primary Objective

Tingkatkan sistem CryptoSatX dengan fitur-fitur berikut, **tanpa memodifikasi atau merusak endpoint dan fungsi yang sudah jalan.**

### Fitur yang harus ditambahkan

| No | Fitur Baru | Tujuan |
|----|-------------|--------|
| 1 | **SMC Analyzer (Smart Money Concept)** | Menambahkan layer BOS/CHoCH, FVG, Swing High/Low |
| 2 | **Telegram Notifier** | Kirim alert sinyal ke Telegram dengan format manusiawi |
| 3 | **API Key Auth** | Lindungi endpoint sensitif |
| 4 | **Structured Logging** | Logging JSON untuk debug dan audit |
| 5 | **Signal History Hook** | Simpan sinyal yang dihasilkan untuk evaluasi & pembelajaran |
| 6 | **GPT Integration Endpoint** | Supaya GPT bisa panggil API dengan schema & action descriptor |

---

## âš™ï¸ Existing Context (Harus Dipertahankan)

- FastAPI structure sudah berjalan â†’ jangan hapus, rename, atau ubah fungsionalitas utama.
- Sudah ada integrasi data premium (Coinglass, LunarCrush, CoinAPI).
- Beberapa route sudah memakai async function â†’ lanjutkan gaya itu.
- File utama `main.py` atau `app/main.py` sudah ada â†’ gunakan route include untuk modul baru.
- Environment `.env` sudah digunakan.

---

## âš ï¸ Aturan Penting

1. âŒ **Jangan ubah atau hapus endpoint lama** seperti `/signals/{symbol}`, `/market/{symbol}`.
2. âŒ **Jangan ganti nama file/fungsi** existing â€” hanya boleh menambah.
3. âœ… Semua tambahan harus dibuat dalam **file baru**, modul baru, atau `services/`.
4. âœ… Kompatibel dengan Python Replit (hindari dependensi berat).
5. âœ… Setiap tambahan diberi komentar:  
   ```python
   # ADDED FOR SMC / TELEGRAM / GPT INTEGRATION